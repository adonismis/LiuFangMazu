/**
 * @author      OA Wu <comdan66@gmail.com>
 * @copyright   Copyright (c) 2016 OA Wu Design
 */

$(function () {
  // 控制地圖、Marker 移動的函式
  function getUnit (will, now) { var addLat = will.lat () - now.lat (), addLng = will.lng () - now.lng (), aveAdd = ((Math.abs (addLat) + Math.abs (addLng)) / 2), unit = aveAdd < 10 ? aveAdd < 1 ? aveAdd < 0.1 ? aveAdd < 0.01 ? aveAdd < 0.001 ? aveAdd < 0.0001 ? 3 : 6 : 9 : 12 : 15 : 24 : 21,lat = addLat / unit, lng = addLng / unit;if (!((Math.abs (lat) > 0) || (Math.abs (lng) > 0))) return null;return { unit: unit, lat: lat, lng: lng }; }
  function markerMove (marker, unitLat, unitLng, unitCount, unit, callback) {if (unit > unitCount) { marker.setPosition (new google.maps.LatLng (marker.getPosition ().lat () + unitLat, marker.getPosition ().lng () + unitLng)); clearTimeout (window.markerMoveTimer); window.markerMoveTimer = setTimeout (function () { markerMove (marker, unitLat, unitLng, unitCount + 1, unit, callback); }, 25); } else { if (callback) callback (marker); } }
  function markerGo (marker, will, callback) {var now = marker.getPosition (), Unit = getUnit (will, now); if (!Unit) return false; markerMove (marker, Unit.lat, Unit.lng, 0, Unit.unit, callback); }
  function mapMove (map, unitLat, unitLng, unitCount, unit, callback) { if (unit > unitCount) { map.setCenter (new google.maps.LatLng (map.getCenter ().lat () + unitLat, map.getCenter ().lng () + unitLng)); clearTimeout (window.mapMoveTimer); window.mapMoveTimer = setTimeout (function () { mapMove (map, unitLat, unitLng, unitCount + 1, unit, callback); }, 25); } else { if (callback) callback (map); } }
  function mapGo (map, will, callback) { var now = map.center, Unit = getUnit (will, now); if (!Unit) return false; mapMove (map, Unit.lat, Unit.lng, 0, Unit.unit, callback); }

  // 迴圈函式
  function loop (i) { i = (i !== undefined) && ((i + 1) < window.points.length) ? i + 1 : 0; clearTimeout (window.timer); window.timer = setTimeout (function () { if (!window.isMoved && (i % 10 === 0)) mapGo (window.map, window.points[i]); markerGo (window.mazu, window.points[i], loop (i)); }, 150); }

  google.maps.event.addDomListener (window, 'load', function () {
    // 初始地圖
    window.map = new google.maps.Map ($('#map').get (0), { zoom: 16, zoomControl: true, scrollwheel: true, scaleControl: true, mapTypeControl: false, navigationControl: true, streetViewControl: false, disableDoubleClickZoom: true, center: new google.maps.LatLng (23.569396231491233, 120.3030703338623)});
    window.map.mapTypes.set ('map_style', new google.maps.StyledMapType ([{ featureType: 'transit', stylers: [{ visibility: 'simplified' }] }, { featureType: 'poi', stylers: [{ visibility: 'simplified' }] }]));
    window.map.setMapTypeId ('map_style');
    google.maps.event.addListener (window.map, 'dragstart', function () { window.isMoved = true; });

    // 路線節點
    window.points = [{a: 23.668687, n: 120.404744}, {a: 23.66836, n: 120.40421999999998}, {a: 23.66973, n: 120.40411}, {a: 23.66985, n: 120.4041}, {a: 23.66994, n: 120.40409000000001}, {a: 23.67007, n: 120.40406000000002}, {a: 23.67015, n: 120.40402}, {a: 23.67124, n: 120.40338}, {a: 23.67122, n: 120.40329}, {a: 23.671170000000004, n: 120.40297000000001}, {a: 23.67116, n: 120.40272999999999}, {a: 23.67169, n: 120.40207000000001}, {a: 23.67184, n: 120.40184000000002}, {a: 23.67186, n: 120.40181}, {a: 23.67187, n: 120.40177}, {a: 23.67189, n: 120.40170999999998}, {a: 23.67189, n: 120.40160999999999}, {a: 23.67248, n: 120.40173000000001}, {a: 23.673250000000003, n: 120.4019}, {a: 23.67416, n: 120.4021}, {a: 23.67489, n: 120.40226}, {a: 23.67562, n: 120.40241}, {a: 23.6759, n: 120.40244}, {a: 23.6761, n: 120.40242000000002}, {a: 23.67731, n: 120.40227000000002}, {a: 23.67749, n: 120.40432}, {a: 23.67766, n: 120.40633000000001}, {a: 23.67796, n: 120.40629999999999}, {a: 23.67804, n: 120.40645999999998}, {a: 23.67809, n: 120.40656}, {a: 23.67814, n: 120.40661}, {a: 23.67865, n: 120.40695}, {a: 23.67868, n: 120.40697}, {a: 23.67879, n: 120.40718000000001}, {a: 23.6789, n: 120.40737}, {a: 23.67897, n: 120.40749}, {a: 23.679100000000002, n: 120.40768}, {a: 23.67921, n: 120.40783}, {a: 23.67941, n: 120.40811999999998}, {a: 23.67955, n: 120.40831}, {a: 23.67962, n: 120.40843}, {a: 23.67962, n: 120.40844}, {a: 23.67986, n: 120.40898}, {a: 23.67992, n: 120.40911000000001}, {a: 23.68012, n: 120.4095}, {a: 23.68014, n: 120.40955}, {a: 23.680160000000004, n: 120.40960000000001}, {a: 23.68019, n: 120.40965999999999}, {a: 23.68023, n: 120.40974999999999}, {a: 23.68038, n: 120.40982}, {a: 23.68061, n: 120.40990000000001}, {a: 23.6813, n: 120.41010999999999}, {a: 23.68186, n: 120.41024}, {a: 23.68232, n: 120.4127}, {a: 23.68242, n: 120.41334000000002}, {a: 23.68251, n: 120.41381}, {a: 23.68255, n: 120.414}, {a: 23.68256, n: 120.41415000000002}, {a: 23.68258, n: 120.41440000000001}, {a: 23.68258, n: 120.4145}, {a: 23.68254, n: 120.41468}, {a: 23.68247, n: 120.41493}, {a: 23.682130000000004, n: 120.416}, {a: 23.68209, n: 120.41613000000001}, {a: 23.68203, n: 120.41633999999999}, {a: 23.68197, n: 120.41655000000002}, {a: 23.68156, n: 120.41797999999999}, {a: 23.68084, n: 120.4206}, {a: 23.6808, n: 120.42079000000001}, {a: 23.68078, n: 120.42089}, {a: 23.68075, n: 120.42102}, {a: 23.68073, n: 120.42127999999998}, {a: 23.68069, n: 120.42184000000002}, {a: 23.680680000000002, n: 120.42203}, {a: 23.68064, n: 120.42266999999998}, {a: 23.6805, n: 120.42371}, {a: 23.68, n: 120.42791}, {a: 23.67988, n: 120.42895000000001}, {a: 23.67987, n: 120.42905}, {a: 23.67976, n: 120.43001000000001}, {a: 23.67956, n: 120.43079999999999}, {a: 23.67955, n: 120.43088}, {a: 23.6793, n: 120.4319}, {a: 23.679250000000003, n: 120.43213000000002}, {a: 23.67921, n: 120.4323}, {a: 23.67917, n: 120.4325}, {a: 23.67914, n: 120.43272}, {a: 23.67913, n: 120.43308}, {a: 23.67911, n: 120.43327}, {a: 23.679100000000002, n: 120.43349999999998}, {a: 23.67908, n: 120.43370000000002}, {a: 23.67907, n: 120.43373000000001}, {a: 23.67904, n: 120.43393999999999}, {a: 23.67897, n: 120.43445}, {a: 23.67892, n: 120.43477}, {a: 23.67885, n: 120.43477}, {a: 23.67878, n: 120.43478}, {a: 23.67869, n: 120.43482000000002}, {a: 23.67856, n: 120.43487999999999}, {a: 23.67846, n: 120.43492}, {a: 23.67835, n: 120.43493}, {a: 23.67825, n: 120.43492}, {a: 23.67815, n: 120.43487999999999}, {a: 23.67805, n: 120.43483}, {a: 23.67797, n: 120.43475}, {a: 23.67794, n: 120.43469999999999}, {a: 23.67792, n: 120.43466}, {a: 23.6779, n: 120.43463}, {a: 23.67789, n: 120.43458000000001}, {a: 23.67788, n: 120.43452}, {a: 23.67789, n: 120.43445}, {a: 23.67791, n: 120.43438}, {a: 23.67792, n: 120.43427}, {a: 23.67801, n: 120.43400999999999}, {a: 23.67805, n: 120.43387}, {a: 23.678060000000002, n: 120.43381}, {a: 23.678060000000002, n: 120.43374}, {a: 23.678060000000002, n: 120.43357999999999}, {a: 23.67805, n: 120.43346000000001}, {a: 23.67802, n: 120.43338}, {a: 23.678, n: 120.43330000000002}, {a: 23.67798, n: 120.43324}, {a: 23.67796, n: 120.43319000000001}, {a: 23.67793, n: 120.43315}, {a: 23.6779, n: 120.43309000000002}, {a: 23.67775, n: 120.43302}, {a: 23.677560000000003, n: 120.43295}, {a: 23.677430000000005, n: 120.4329}, {a: 23.67739, n: 120.43288999999999}, {a: 23.67731, n: 120.43283000000001}, {a: 23.677430000000005, n: 120.4326}, {a: 23.67751, n: 120.43242}, {a: 23.677560000000003, n: 120.43232}, {a: 23.67761, n: 120.43225000000001}, {a: 23.67775, n: 120.43213000000002}, {a: 23.67796, n: 120.43199}, {a: 23.678060000000002, n: 120.43192}, {a: 23.67824, n: 120.43180000000001}, {a: 23.67828, n: 120.43176999999999}, {a: 23.67837, n: 120.43172}, {a: 23.67848, n: 120.43166}, {a: 23.67843, n: 120.43153000000001}, {a: 23.6784, n: 120.43149}, {a: 23.67833, n: 120.43142}, {a: 23.67827, n: 120.43136}, {a: 23.678210000000004, n: 120.43132}, {a: 23.67815, n: 120.4313}, {a: 23.6781, n: 120.43129}, {a: 23.678060000000002, n: 120.43129}, {a: 23.678, n: 120.43129}, {a: 23.67794, n: 120.43131000000001}, {a: 23.67791, n: 120.43133}, {a: 23.67728, n: 120.43155000000002}, {a: 23.67709, n: 120.43165}, {a: 23.67699, n: 120.43172}, {a: 23.67694, n: 120.43174}, {a: 23.67686, n: 120.43176999999999}, {a: 23.676780000000004, n: 120.43178}, {a: 23.67665, n: 120.43179000000002}, {a: 23.67646, n: 120.43181}, {a: 23.67633, n: 120.43183}, {a: 23.67618, n: 120.43187}, {a: 23.67607, n: 120.4319}, {a: 23.67596, n: 120.43196}, {a: 23.6759, n: 120.43202}, {a: 23.67585, n: 120.43208}, {a: 23.67581, n: 120.43210999999998}, {a: 23.67577, n: 120.43213000000002}, {a: 23.675720000000002, n: 120.43215}, {a: 23.67556, n: 120.43219999999998}, {a: 23.67497, n: 120.43157}, {a: 23.67471, n: 120.4313}, {a: 23.67465, n: 120.43122000000001}, {a: 23.67462, n: 120.4312}, {a: 23.67459, n: 120.43118}, {a: 23.67453, n: 120.43116999999998}, {a: 23.67439, n: 120.43115}, {a: 23.67431, n: 120.43115999999999}, {a: 23.67419, n: 120.43118}, {a: 23.67406, n: 120.43119000000002}, {a: 23.67386, n: 120.43116999999998}, {a: 23.67369, n: 120.43116999999998}, {a: 23.67358, n: 120.43116999999998}, {a: 23.67334, n: 120.43116999999998}, {a: 23.67312, n: 120.43118}, {a: 23.67298, n: 120.4312}, {a: 23.67295, n: 120.43122000000001}, {a: 23.67264, n: 120.43136}, {a: 23.6724, n: 120.43144000000001}, {a: 23.67235, n: 120.43145}, {a: 23.6723, n: 120.43146000000002}, {a: 23.67224, n: 120.43147}, {a: 23.67212, n: 120.43147}, {a: 23.67184, n: 120.43146000000002}, {a: 23.671430000000004, n: 120.43144000000001}, {a: 23.67106, n: 120.43142}, {a: 23.67074, n: 120.43139}, {a: 23.67034, n: 120.43134999999998}, {a: 23.66981, n: 120.43129}, {a: 23.66873, n: 120.43116999999998}, {a: 23.66828, n: 120.43107999999998}, {a: 23.66785, n: 120.43101000000001}, {a: 23.66677, n: 120.43079000000002}, {a: 23.66522, n: 120.43049000000002}, {a: 23.66385, n: 120.43022000000002}, {a: 23.66252, n: 120.42995999999998}, {a: 23.66126, n: 120.42972}, {a: 23.66119, n: 120.43097}, {a: 23.661140000000003, n: 120.43210999999998}, {a: 23.66113, n: 120.43253}, {a: 23.66112, n: 120.43302}, {a: 23.66111, n: 120.43313}, {a: 23.6611, n: 120.43367999999998}, {a: 23.6611, n: 120.43393}, {a: 23.6611, n: 120.43418999999999}, {a: 23.66111, n: 120.4343}, {a: 23.66112, n: 120.43445999999999}, {a: 23.661010000000005, n: 120.43448}, {a: 23.66078, n: 120.43452}, {a: 23.66073, n: 120.43453}, {a: 23.66071, n: 120.43453}, {a: 23.660600000000002, n: 120.43454}, {a: 23.66059, n: 120.43460000000002}, {a: 23.66058, n: 120.43467000000001}, {a: 23.66056, n: 120.43479999999998}, {a: 23.6605, n: 120.43532}, {a: 23.66046, n: 120.43575}, {a: 23.66041, n: 120.43618999999998}, {a: 23.66039, n: 120.43639000000002}, {a: 23.66039, n: 120.43648000000002}, {a: 23.66039, n: 120.43656}, {a: 23.66041, n: 120.43668}, {a: 23.66044, n: 120.43689}, {a: 23.66054, n: 120.43752}, {a: 23.66059, n: 120.43775999999998}, {a: 23.660750000000004, n: 120.4384}, {a: 23.66088, n: 120.43892}, {a: 23.66111, n: 120.4388}, {a: 23.66109, n: 120.43868}, {a: 23.66108, n: 120.4386}, {a: 23.66108, n: 120.43845000000002}, {a: 23.66107, n: 120.43837}, {a: 23.66107, n: 120.43799999999999}, {a: 23.66106, n: 120.43789}, {a: 23.66105, n: 120.43783}, {a: 23.66102, n: 120.43762}, {a: 23.66099, n: 120.43748999999998}, {a: 23.66087, n: 120.43696999999999}, {a: 23.66083, n: 120.4368}, {a: 23.66079, n: 120.43663}, {a: 23.66078, n: 120.43655000000001}, {a: 23.66078, n: 120.43645}, {a: 23.66079, n: 120.43627999999998}, {a: 23.66085, n: 120.43584}, {a: 23.66087, n: 120.43568}, {a: 23.66093, n: 120.43543000000001}, {a: 23.66099, n: 120.43534000000001}, {a: 23.66109, n: 120.43515999999998}, {a: 23.661140000000003, n: 120.43508}, {a: 23.66115, n: 120.43506}, {a: 23.66116, n: 120.43501}, {a: 23.66117, n: 120.43496999999999}, {a: 23.66117, n: 120.4349}, {a: 23.66117, n: 120.43482000000002}, {a: 23.661140000000003, n: 120.43456}, {a: 23.6619, n: 120.43441}, {a: 23.66209, n: 120.43438}, {a: 23.66212, n: 120.4345}, {a: 23.66214, n: 120.43463}, {a: 23.66215, n: 120.43472}, {a: 23.66219, n: 120.43496}, {a: 23.6622, n: 120.43508}, {a: 23.66221, n: 120.43519}, {a: 23.66221, n: 120.43536000000002}, {a: 23.66221, n: 120.43538}, {a: 23.66219, n: 120.43588000000001}, {a: 23.66219, n: 120.43607}, {a: 23.66219, n: 120.43611}, {a: 23.66222, n: 120.43636}, {a: 23.66224, n: 120.43656}, {a: 23.66226, n: 120.43675000000002}, {a: 23.662290000000002, n: 120.43700000000001}, {a: 23.66231, n: 120.43724000000002}, {a: 23.66231, n: 120.43728}, {a: 23.6623, n: 120.43732}, {a: 23.662290000000002, n: 120.43735}, {a: 23.66228, n: 120.43737}, {a: 23.66221, n: 120.43747}, {a: 23.662180000000003, n: 120.43754000000001}, {a: 23.66217, n: 120.43757}, {a: 23.66214, n: 120.43766999999998}, {a: 23.66265, n: 120.43775}, {a: 23.66275, n: 120.43778000000002}, {a: 23.66277, n: 120.43779}, {a: 23.66279, n: 120.4378}, {a: 23.66281, n: 120.43781000000001}, {a: 23.66282, n: 120.43783}, {a: 23.662830000000003, n: 120.43786}, {a: 23.66284, n: 120.43790999999999}, {a: 23.66293, n: 120.43826}, {a: 23.662290000000002, n: 120.43843}, {a: 23.66139, n: 120.43871}, {a: 23.66151, n: 120.43922}, {a: 23.66156, n: 120.43941}, {a: 23.66158, n: 120.43947}, {a: 23.66158, n: 120.43949}, {a: 23.661640000000002, n: 120.43963000000001}, {a: 23.66156, n: 120.43960000000001}, {a: 23.6611, n: 120.43938999999999}, {a: 23.66107, n: 120.43937}, {a: 23.66104, n: 120.43935000000002}, {a: 23.66103, n: 120.43934}, {a: 23.66102, n: 120.43932}, {a: 23.66098, n: 120.43924000000001}, {a: 23.66088, n: 120.43892}, {a: 23.66029, n: 120.43917000000002}, {a: 23.66002, n: 120.43928}, {a: 23.65963, n: 120.43943}, {a: 23.65959, n: 120.43934}, {a: 23.65949, n: 120.43911000000001}, {a: 23.65944, n: 120.43899000000002}, {a: 23.65942, n: 120.43896}, {a: 23.65942, n: 120.43894}, {a: 23.6594, n: 120.43892}, {a: 23.65938, n: 120.43890000000002}, {a: 23.659170000000003, n: 120.43874}, {a: 23.65913, n: 120.43869999999998}, {a: 23.65911, n: 120.43869}, {a: 23.65909, n: 120.43867}, {a: 23.65908, n: 120.43865}, {a: 23.65908, n: 120.43864}, {a: 23.65907, n: 120.43862}, {a: 23.65907, n: 120.43859}, {a: 23.65907, n: 120.43853}, {a: 23.65908, n: 120.4378}, {a: 23.65907, n: 120.43747}, {a: 23.65911, n: 120.43479999999998}, {a: 23.6569, n: 120.43478999999999}, {a: 23.65691, n: 120.4362}, {a: 23.65689, n: 120.43869}, {a: 23.65691, n: 120.43871}, {a: 23.65693, n: 120.43872000000002}, {a: 23.65694, n: 120.43873}, {a: 23.65695, n: 120.43874}, {a: 23.65697, n: 120.43875000000001}, {a: 23.65732, n: 120.4392}, {a: 23.65734, n: 120.43922}, {a: 23.65735, n: 120.43924000000001}, {a: 23.65736, n: 120.43925}, {a: 23.65737, n: 120.43926000000002}, {a: 23.6574, n: 120.43927000000001}, {a: 23.65749, n: 120.43931}, {a: 23.65758, n: 120.43935000000002}, {a: 23.6577, n: 120.43938999999999}, {a: 23.658020000000004, n: 120.43951000000001}, {a: 23.65842, n: 120.43967}, {a: 23.65844, n: 120.43968}, {a: 23.65845, n: 120.43969000000001}, {a: 23.65845, n: 120.4397}, {a: 23.65846, n: 120.43971000000002}, {a: 23.65847, n: 120.43972000000001}, {a: 23.65847, n: 120.43974}, {a: 23.65847, n: 120.43979}, {a: 23.65848, n: 120.43981999999998}, {a: 23.65849, n: 120.43985}, {a: 23.65849, n: 120.43987000000001}, {a: 23.65851, n: 120.4399}, {a: 23.65836, n: 120.43997}, {a: 23.65831, n: 120.43999}, {a: 23.65827, n: 120.44001}, {a: 23.65824, n: 120.44002000000002}, {a: 23.65821, n: 120.44003000000001}, {a: 23.65818, n: 120.44003000000001}, {a: 23.65815, n: 120.44003000000001}, {a: 23.6581, n: 120.44003000000001}, {a: 23.65705, n: 120.44001}, {a: 23.65702, n: 120.44111}, {a: 23.65701, n: 120.44245000000001}, {a: 23.657, n: 120.44319999999999}, {a: 23.657, n: 120.44415}, {a: 23.657, n: 120.44506}, {a: 23.657, n: 120.44716000000001}, {a: 23.65951, n: 120.44717}, {a: 23.65965, n: 120.44716000000001}, {a: 23.66073, n: 120.44706}, {a: 23.66206, n: 120.44694}, {a: 23.66242, n: 120.44691}, {a: 23.66215, n: 120.44357000000001}, {a: 23.66432, n: 120.44337999999999}, {a: 23.66445, n: 120.44516000000002}, {a: 23.66457, n: 120.44671000000001}, {a: 23.66463, n: 120.44670000000002}, {a: 23.66498, n: 120.44658}, {a: 23.66509, n: 120.44656}, {a: 23.66525, n: 120.44651}, {a: 23.66529, n: 120.44651}, {a: 23.66539, n: 120.44649}, {a: 23.6655, n: 120.44648}, {a: 23.66553, n: 120.44648}, {a: 23.66554, n: 120.44648}, {a: 23.66559, n: 120.44648}, {a: 23.66563, n: 120.44647}, {a: 23.6657, n: 120.44647}, {a: 23.6659, n: 120.44649999999999}, {a: 23.66606, n: 120.44654}, {a: 23.66607, n: 120.44638}, {a: 23.66607, n: 120.44636}, {a: 23.66606, n: 120.44635000000001}, {a: 23.66605, n: 120.44631}, {a: 23.66603, n: 120.44628000000002}, {a: 23.66579, n: 120.44583000000002}, {a: 23.66564, n: 120.44555}, {a: 23.665560000000003, n: 120.44541000000001}, {a: 23.66552, n: 120.44528999999999}, {a: 23.66549, n: 120.44518}, {a: 23.66549, n: 120.44516000000002}, {a: 23.66544, n: 120.44495000000002}, {a: 23.66536, n: 120.44465000000001}, {a: 23.66529, n: 120.44431999999999}, {a: 23.66528, n: 120.44415}, {a: 23.66527, n: 120.44407999999999}, {a: 23.66527, n: 120.44398}, {a: 23.66528, n: 120.44377000000001}, {a: 23.66528, n: 120.4437}, {a: 23.66524, n: 120.44328999999999}, {a: 23.66553, n: 120.44307000000002}, {a: 23.66562, n: 120.44301}, {a: 23.665710000000004, n: 120.44296000000001}, {a: 23.66578, n: 120.44293999999998}, {a: 23.666, n: 120.44286999999998}, {a: 23.66643, n: 120.44346}, {a: 23.6668, n: 120.44416999999999}, {a: 23.66682, n: 120.44425}, {a: 23.66684, n: 120.4443}, {a: 23.66684, n: 120.44434}, {a: 23.66685, n: 120.44436}, {a: 23.66685, n: 120.44437000000002}, {a: 23.66684, n: 120.44439}, {a: 23.66684, n: 120.44441999999998}, {a: 23.66683, n: 120.44446000000002}, {a: 23.6668, n: 120.44455000000002}, {a: 23.66677, n: 120.44462000000001}, {a: 23.66664, n: 120.4449}, {a: 23.666600000000003, n: 120.44501}, {a: 23.66657, n: 120.4451}, {a: 23.66655, n: 120.44519}, {a: 23.66654, n: 120.44522000000002}, {a: 23.66651, n: 120.44528}, {a: 23.66645, n: 120.44537}, {a: 23.66642, n: 120.44541000000001}, {a: 23.6664, n: 120.44546999999999}, {a: 23.66631, n: 120.44568000000001}, {a: 23.66629, n: 120.44577000000001}, {a: 23.66626, n: 120.44588}, {a: 23.66625, n: 120.44597}, {a: 23.66624, n: 120.44604000000001}, {a: 23.66622, n: 120.44628000000002}, {a: 23.6662, n: 120.44640999999999}, {a: 23.6662, n: 120.44644000000001}, {a: 23.66618, n: 120.44648}, {a: 23.66617, n: 120.44649999999999}, {a: 23.66616, n: 120.44652000000002}, {a: 23.66615, n: 120.44652000000002}, {a: 23.66614, n: 120.44653000000001}, {a: 23.66606, n: 120.44654}, {a: 23.66605, n: 120.44671000000001}, {a: 23.66604, n: 120.44689000000001}, {a: 23.66604, n: 120.44695000000002}, {a: 23.66604, n: 120.44703}, {a: 23.66607, n: 120.44718}, {a: 23.66613, n: 120.44749000000002}, {a: 23.6662, n: 120.44797999999999}, {a: 23.66623, n: 120.44819000000001}, {a: 23.66627, n: 120.44837000000001}, {a: 23.66633, n: 120.44853}, {a: 23.66643, n: 120.44879000000002}, {a: 23.66652, n: 120.44904000000001}, {a: 23.66702, n: 120.44902}, {a: 23.66721, n: 120.44902}, {a: 23.66761, n: 120.44900999999999}, {a: 23.6676, n: 120.44983}, {a: 23.6676, n: 120.44984}, {a: 23.6677, n: 120.45038}, {a: 23.66785, n: 120.45064999999998}, {a: 23.668087, n: 120.4509}, {a: 23.667876, n: 120.451361}, {a: 23.667841, n: 120.45162}, {a: 23.667948, n: 120.45192500000002}, {a: 23.666798, n: 120.45227700000001}, {a: 23.666745, n: 120.450429}, {a: 23.666426, n: 120.448824}, {a: 23.66637, n: 120.448867}, {a: 23.666304, n: 120.450536}, {a: 23.666294, n: 120.45094600000002}, {a: 23.666092, n: 120.45142900000002}, {a: 23.666319, n: 120.451794}, {a: 23.666211, n: 120.45232200000001}, {a: 23.666205, n: 120.45281}, {a: 23.666728, n: 120.45270200000002}, {a: 23.66666, n: 120.453302}, {a: 23.668448, n: 120.45733599999998}, {a: 23.668998, n: 120.458325}, {a: 23.669373, n: 120.459366}, {a: 23.671394, n: 120.45785100000002}, {a: 23.672271, n: 120.45855700000001}, {a: 23.672265, n: 120.457289}, {a: 23.672961, n: 120.456483}, {a: 23.672989000000005, n: 120.456292}, {a: 23.671767, n: 120.455538}, {a: 23.672208, n: 120.455191}, {a: 23.672508, n: 120.454888}, {a: 23.672799, n: 120.454469}, {a: 23.673082, n: 120.453992}, {a: 23.673554000000003, n: 120.45314400000001}, {a: 23.674055, n: 120.45201400000002}, {a: 23.674185, n: 120.452115}, {a: 23.674185, n: 120.45218099999998}, {a: 23.674177, n: 120.452223}, {a: 23.674149, n: 120.452281}, {a: 23.674149, n: 120.45232100000001}, {a: 23.674128, n: 120.45241100000001}, {a: 23.674149, n: 120.452474}, {a: 23.674162, n: 120.452551}, {a: 23.674202000000005, n: 120.45263300000002}, {a: 23.674215, n: 120.452665}, {a: 23.673982, n: 120.454151}, {a: 23.673472, n: 120.45404799999999}, {a: 23.673358000000004, n: 120.45402999999999}, {a: 23.673299, n: 120.45404799999999}, {a: 23.673246, n: 120.454094}, {a: 23.673209, n: 120.45415800000002}, {a: 23.67317, n: 120.454275}, {a: 23.673124, n: 120.454443}, {a: 23.673086, n: 120.45465700000001}, {a: 23.673068, n: 120.454822}, {a: 23.67303, n: 120.45495499999998}, {a: 23.67297, n: 120.45514000000001}, {a: 23.672952, n: 120.455247}, {a: 23.672953, n: 120.45546400000002}, {a: 23.672978, n: 120.455617}, {a: 23.672997, n: 120.455698}, {a: 23.673018, n: 120.455812}, {a: 23.673016, n: 120.45595400000002}, {a: 23.673022, n: 120.456051}, {a: 23.67302, n: 120.456122}, {a: 23.672993, n: 120.45626700000001}, {a: 23.672977, n: 120.45646199999999}, {a: 23.673663, n: 120.45635000000001}, {a: 23.673778, n: 120.45538400000001}, {a: 23.67395, n: 120.454284}, {a: 23.674234, n: 120.452644}, {a: 23.675397, n: 120.452734}, {a: 23.674942, n: 120.45533500000002}, {a: 23.674413, n: 120.45610100000002}, {a: 23.674548000000005, n: 120.456343}, {a: 23.674226, n: 120.45678600000001}, {a: 23.673887, n: 120.45728}, {a: 23.673744, n: 120.457533}, {a: 23.673648, n: 120.45761200000001}, {a: 23.673859, n: 120.460911}, {a: 23.674016, n: 120.46432200000001}, {a: 23.674201, n: 120.46676900000001}, {a: 23.675027, n: 120.46668199999999}, {a: 23.675065, n: 120.46700900000002}, {a: 23.674685, n: 120.467059}, {a: 23.6742472, n: 120.4670935}, {a: 23.674285, n: 120.46744500000001}, {a: 23.674512, n: 120.469385}, {a: 23.675441, n: 120.469224}, {a: 23.676305000000003, n: 120.46915899999999}, {a: 23.677084000000004, n: 120.469172}, {a: 23.677571, n: 120.469269}, {a: 23.677685, n: 120.469277}, {a: 23.677671, n: 120.469366}, {a: 23.677213, n: 120.470905}, {a: 23.676746, n: 120.470775}, {a: 23.676339, n: 120.470703}, {a: 23.676073, n: 120.47067599999998}, {a: 23.675755, n: 120.470677}, {a: 23.675469, n: 120.47069000000002}, {a: 23.675269, n: 120.470724}, {a: 23.674885, n: 120.47080499999998}, {a: 23.674763, n: 120.470866}, {a: 23.67485, n: 120.471055}, {a: 23.675282, n: 120.471079}, {a: 23.675467, n: 120.47114000000002}, {a: 23.675597, n: 120.471232}, {a: 23.675756, n: 120.47161799999999}, {a: 23.675873, n: 120.471999}, {a: 23.676068, n: 120.472012}, {a: 23.676459, n: 120.472043}, {a: 23.676532, n: 120.47205900000002}, {a: 23.676766, n: 120.47222500000001}, {a: 23.676132000000003, n: 120.47372000000001}, {a: 23.676011, n: 120.473734}, {a: 23.674825, n: 120.47097600000001}, {a: 23.674698, n: 120.47090600000001}, {a: 23.674631, n: 120.47102100000001}, {a: 23.674354000000005, n: 120.47190600000002}, {a: 23.674309, n: 120.47214300000002}, {a: 23.674278, n: 120.47225400000002}, {a: 23.675016, n: 120.472377}, {a: 23.675399, n: 120.472418}, {a: 23.676018, n: 120.47388199999999}, {a: 23.675935, n: 120.474187}, {a: 23.675948, n: 120.47468600000002}, {a: 23.676037, n: 120.47512}, {a: 23.676187, n: 120.475673}, {a: 23.676226, n: 120.475923}, {a: 23.676178, n: 120.476165}, {a: 23.675222, n: 120.47619000000002}, {a: 23.675425, n: 120.47375299999999}, {a: 23.674772, n: 120.47370700000002}, {a: 23.674833, n: 120.47239300000001}, {a: 23.674305, n: 120.472214}, {a: 23.673891, n: 120.473563}, {a: 23.673996, n: 120.473628}, {a: 23.674223000000005, n: 120.473667}, {a: 23.674722, n: 120.473688}, {a: 23.674721000000005, n: 120.474283}, {a: 23.674509, n: 120.474298}, {a: 23.67447, n: 120.47444899999999}, {a: 23.674475, n: 120.474562}, {a: 23.674527000000005, n: 120.47467}, {a: 23.674627, n: 120.474691}, {a: 23.675159, n: 120.47474900000002}, {a: 23.675306, n: 120.474745}, {a: 23.675214, n: 120.476148}, {a: 23.674677, n: 120.47619100000001}, {a: 23.674646, n: 120.475293}, {a: 23.673686, n: 120.475364}, {a: 23.67389, n: 120.476193}, {a: 23.672956, n: 120.47611300000001}, {a: 23.671395, n: 120.474636}, {a: 23.671065, n: 120.475805}, {a: 23.670199, n: 120.475737}, {a: 23.670803000000003, n: 120.474127}, {a: 23.670827, n: 120.47405300000001}, {a: 23.670293, n: 120.47353999999999}, {a: 23.669921, n: 120.47395999999999}, {a: 23.66965, n: 120.47417699999998}, {a: 23.669573, n: 120.474405}, {a: 23.669599, n: 120.474565}, {a: 23.669459000000003, n: 120.47496299999999}, {a: 23.669456, n: 120.47510300000002}, {a: 23.669043, n: 120.475094}, {a: 23.669165, n: 120.474552}, {a: 23.669296, n: 120.47415600000001}, {a: 23.669318, n: 120.474043}, {a: 23.669306, n: 120.47400200000001}, {a: 23.669251, n: 120.47396300000001}, {a: 23.669165, n: 120.473988}, {a: 23.669113000000003, n: 120.47402900000002}, {a: 23.669062, n: 120.474139}, {a: 23.668947, n: 120.474451}, {a: 23.668852000000005, n: 120.474811}, {a: 23.668818, n: 120.475003}, {a: 23.668871, n: 120.475075}, {a: 23.669571, n: 120.475139}, {a: 23.670088, n: 120.47522499999998}, {a: 23.670184, n: 120.475247}, {a: 23.669981, n: 120.475703}, {a: 23.668786000000004, n: 120.475559}, {a: 23.668267000000004, n: 120.47548299999998}, {a: 23.6683792, n: 120.4740285}, {a: 23.6689778, n: 120.4733902}, {a: 23.6686945, n: 120.4730175}, {a: 23.6681484, n: 120.47355760000002}, {a: 23.667396, n: 120.47286400000002}, {a: 23.668367, n: 120.47167}, {a: 23.669876, n: 120.473105}, {a: 23.670037, n: 120.47242000000001}, {a: 23.671248, n: 120.472346}, {a: 23.671362, n: 120.472013}, {a: 23.67003, n: 120.472082}, {a: 23.670038, n: 120.47196900000002}, {a: 23.67007, n: 120.47184699999998}, {a: 23.670126, n: 120.471766}, {a: 23.671076, n: 120.471747}, {a: 23.671061000000005, n: 120.471317}, {a: 23.669148, n: 120.47144100000001}, {a: 23.668754, n: 120.471047}, {a: 23.669319, n: 120.470344}, {a: 23.669918, n: 120.46963300000002}, {a: 23.670457, n: 120.469322}, {a: 23.670891, n: 120.46924299999999}, {a: 23.670989, n: 120.469211}, {a: 23.67104, n: 120.469302}, {a: 23.672793, n: 120.469434}, {a: 23.674573, n: 120.46936999999998}, {a: 23.67456, n: 120.470106}, {a: 23.672360000000005, n: 120.470127}, {a: 23.670862, n: 120.473998}, {a: 23.671322000000004, n: 120.47454500000002}, {a: 23.671843000000003, n: 120.473863}, {a: 23.672601, n: 120.47351900000001}, {a: 23.673865, n: 120.473659}, {a: 23.673741, n: 120.47425}, {a: 23.672925000000003, n: 120.47422700000001}, {a: 23.672687000000003, n: 120.474303}, {a: 23.672454, n: 120.474424}, {a: 23.672254000000002, n: 120.47451899999999}, {a: 23.672076, n: 120.474726}, {a: 23.671909, n: 120.47496299999999}, {a: 23.671891, n: 120.475081}, {a: 23.672388, n: 120.47556099999998}, {a: 23.672499, n: 120.47538600000001}, {a: 23.672687000000003, n: 120.475168}, {a: 23.6731, n: 120.474946}, {a: 23.673319, n: 120.474887}, {a: 23.673604, n: 120.474994}, {a: 23.673896, n: 120.47358499999999}, {a: 23.673323, n: 120.473512}, {a: 23.67249, n: 120.47347600000002}, {a: 23.672035000000005, n: 120.47368100000001}, {a: 23.671895, n: 120.47371399999999}, {a: 23.671735, n: 120.473055}, {a: 23.67191, n: 120.472281}, {a: 23.672104, n: 120.47172600000002}, {a: 23.672185, n: 120.471464}, {a: 23.673257, n: 120.47154900000001}, {a: 23.673208, n: 120.47279499999999}, {a: 23.674, n: 120.473073}, {a: 23.674748, n: 120.47090600000001}, {a: 23.674475, n: 120.469064}, {a: 23.674143, n: 120.46891900000001}, {a: 23.673387, n: 120.468981}, {a: 23.672853, n: 120.468821}, {a: 23.671218, n: 120.46789599999998}, {a: 23.67069, n: 120.46683299999998}, {a: 23.670142, n: 120.46587700000002}, {a: 23.669831, n: 120.464888}, {a: 23.669815, n: 120.46482600000002}, {a: 23.666442, n: 120.46526400000002}, {a: 23.665485, n: 120.465032}, {a: 23.665736, n: 120.46435199999999}, {a: 23.665812, n: 120.463509}, {a: 23.665879, n: 120.46296199999999}, {a: 23.665946, n: 120.462513}];
    
    // 設定節點格式
    window.points = window.points.map (function (t) { return new google.maps.LatLng (t.a, t.n); });

    // 
    window.mazu = new google.maps.Marker ({
          position: window.points[0],
          draggable: false,
          raiseOnDrag: false,
          clickable: true,
          zIndex: 99,
          optimized: false,
          icon: 'img/A_09.png',
          map: window.map,
        });

    // 初始路線
    new google.maps.Polyline ({
        map: window.map,
        strokeColor: 'rgba(255, 3, 0, .6)',
        strokeWeight: 3,
        path: window.points
      });

    // 藉由節點 設定地圖的大小位置
    var bounds = new google.maps.LatLngBounds ();
    window.points.forEach (function (t) { bounds.extend (t); });
    window.map.fitBounds (bounds);

    // 啟動迴圈函式
    setTimeout (loop, 1000);
  });
});